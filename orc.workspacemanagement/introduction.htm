<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Introduction - WildGums open source center</title>
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../css/theme_colors.css" type="text/css" />
    <link rel="stylesheet" href="../css/styles/vs.css">
    <link rel="stylesheet" href="../css/font-awesome.4.5.0.min.css">
</head>
<body role="document">
    <div class="grid-for-nav">
        <nav data-toggle="nav-shift" class="nav-side stickynav">
            <div class="side-nav-search">
                <a href="/index.htm"><i class="fa fa-home"></i> WildGums open source center</a>
                <div role="search">
                    <form id="search-form" class="form" action="../Docnet_search.htm" method="get">
                        <input type="text" name="q" placeholder="Search docs" />
                    </form>
                </div>
            </div>
            <div class="menu menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
<ul>
<li class="tocentry"><a href="../Home.htm">Home</a>
</li>
<li class="tocentry"><a href="../introduction.htm">Introduction</a>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../Orchestra.htm">Orchestra</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcAnalytics.htm">Orc.Analytics</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcAutomaticSupport.htm">Orc.AutomaticSupport</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcCommandLine.htm">Orc.CommandLine</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcControls.htm">Orc.Controls</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcCsvHelper.htm">Orc.CsvHelper</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcDependencyGraph.htm">Orc.DependencyGraph</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcDynamicObjects.htm">Orc.DynamicObjects</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcEntityFramework.htm">Orc.EntityFramework</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcExtensibility.htm">Orc.Extensibility</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcFeedback.htm">Orc.Feedback</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcFileAssociation.htm">Orc.FileAssociation</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcFileSystem.htm">Orc.FileSystem</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcFilterBuilder.htm">Orc.FilterBuilder</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcFluentValidation.htm">Orc.FluentValidation</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcLicenseManager.htm">Orc.LicenseManager</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcLogViewer.htm">Orc.LogViewer</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcMemento.htm">Orc.Memento</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcMetadata.htm">Orc.Metadata</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcNotifications.htm">Orc.Notifications</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcNuGetExplorer.htm">Orc.NuGetExplorer</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcPrism.htm">Orc.Prism</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcProjectManagement.htm">Orc.ProjectManagement</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcScheduling.htm">Orc.Scheduling</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcSearch.htm">Orc.Search</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcSkia.htm">Orc.Skia</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcSnapshots.htm">Orc.Snapshots</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcSort.htm">Orc.Sort</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcSquirrel.htm">Orc.Squirrel</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcSupportPackage.htm">Orc.SupportPackage</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcSystemInfo.htm">Orc.SystemInfo</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../OrcWizard.htm">Orc.Wizard</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../OrcWorkspaceManagement.htm">Orc.WorkspaceManagement</a></span></li>
<li class="tocentry current"><a class="current" href="../orc.workspacemanagement/introduction.htm">Introduction</a>
<ul class="currentrelative">
<li class="tocentry"><a href="#providers">Providers</a></li>
<li class="tocentry"><a href="#events">Events</a></li>
<li class="tocentry"><a href="#using-the-extension-methods">Using the extension methods</a></li>
<li class="tocentry"><a href="#using-the-behaviors">Using the behaviors</a></li>
</ul>

</ul>
</li>

</ul>
				<div class="toc-footer">
					<span class="text-small">
						<hr/>
						<a href="https://github.com/FransBouma/DocNet" target="_blank">Made with <i class="fa fa-github"></i> DocNet</a>
					</span>
				</div>	
			</div>
            &nbsp;
        </nav>
        <section data-toggle="nav-shift" class="nav-content-wrap">
            <nav class="nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="nav-top" class="fa fa-bars"></i>
                <a href="../index.htm">WildGums open source center</a>
            </nav>
            <div class="nav-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <div class="breadcrumbs">
<ul><li><a href="../Home.htm">Home</a></li> / <li><a href="../OrcWorkspaceManagement.htm">Orc.WorkspaceManagement</a></li> / <li><a href="../orc.workspacemanagement/introduction.htm">Introduction</a></li></ul>

                    </div>
                    <hr />
                </div>
                <div role="main">
                    <div class="section">
<h1 id="orc.workspacemanagement">Orc.WorkspaceManagement<a class="headerlink" href="#orc.workspacemanagement" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>=========================</p>
<table class="table table-bordered-all table-responsive">
<tbody>
<tr>
	<td>Chat</td>
	<td><a href="https://gitter.im/WildGums/Orc.WorkspaceManagement?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/WildGums/Orc.WorkspaceManagement" /></a></td>
</tr>
<tr>
	<td>Downloads</td>
	<td><img src="https://img.shields.io/nuget/dt/orc.workspacemanagement.svg" alt="NuGet downloads" /></td>
</tr>
<tr>
	<td>Stable version</td>
	<td><img src="https://img.shields.io/nuget/v/orc.workspacemanagement.svg" alt="Version" /></td>
</tr>
<tr>
	<td>Unstable version</td>
	<td><img src="https://img.shields.io/nuget/vpre/orc.workspacemanagement.svg" alt="Pre-release version" /></td>
</tr>
</tbody>
</table>
<p>Manage workspaces the easy way using this library.</p>
<h1 id="quick-introduction">Quick introduction<a class="headerlink" href="#quick-introduction" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>Workspaces are a combination of settings that a user can choose to configure an application. An example is the layout of all docking windows in Visual Studio. The advantage of the workspace management is that it takes away all the plumbing and you can concentrate on the actual usage of workspaces.</p>
<p>The workspace management library makes it easy to manage workspaces. The main component is the <em>IWorkspaceManager</em> that contains the current workspace and all available workspaces and allows to load or save workspaces.</p>
<p>Below is an overview of the most important components:</p>
<ul>
<li><strong>IWorkspace</strong> =&gt; the actual workspace object</li>
<li><strong>IWorkspaceManager</strong> =&gt; the workspace manager with events and management methods</li>
<li><strong>IWorkspaceInitializer</strong> =&gt; allows customization of initial settings of a workspace</li>
</ul>
<p><img src="doc/images/workspace_handling.gif" alt="Managing workspaces the easy way" />  </p>
<hr />
<p><strong>Important note</strong> </p>
<p>The base directory will be used as repository. This means that it cannot contain other files and all other files will be deleted from the directory</p>
<hr />
<h1 id="creating-a-workspace-initializer">Creating a workspace initializer<a class="headerlink" href="#creating-a-workspace-initializer" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>When a workspace manager is created, it doesn't contain anything. The <em>IWorkspaceInitializer</em> interface allows the customization of that state. </p>
<p>By default the following initializers are available:</p>
<ul>
<li><strong>EmptyWorkspaceInitializer</strong> =&gt; initializes nothing, this is the default</li>
</ul>
<p>To create a custom workspace initializer, see the example below:</p>
<pre><code>public class WorkspaceInitializer : IWorkspaceInitializer
{
    public Task InitializeAsync(IWorkspace workspace)
    {
        workspace.SetValue(&quot;AView.Width&quot;, 200d);
        workspace.SetValue(&quot;BView.Width&quot;, 200d);
        return TaskHelper.Completed;
    }
}
</code></pre>

<p>Next it can be registered in the ServiceLocator (so it will automatically be injected into the <em>WorkspaceManager</em>):</p>
<pre><code>ServiceLocator.Default.RegisterType&lt;IWorkspaceInitializer, MyWorkspaceInitializer&gt;();
</code></pre>

<p><strong>Make sure to register the service before instantiating the <em>IWorkspaceManager</em> because it will be injected</strong></p>
<h1 id="initializing-the-workspace-manager">Initializing the workspace manager<a class="headerlink" href="#initializing-the-workspace-manager" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>Because the workspace manager is using async, the initialization is a separate method. This gives the developer the option to load the workspaces whenever it is required. To read the stored workspaces from disk, use the code below:</p>
<pre><code>await workspaceManager.InitializeAsync(); 
</code></pre>

<h1 id="retrieving-a-list-of-all-workspaces">Retrieving a list of all workspaces<a class="headerlink" href="#retrieving-a-list-of-all-workspaces" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<pre><code>var workspaces = workspaceManager.Workspaces;
</code></pre>

<h1 id="retrieving-the-current-workspace">Retrieving the current workspace<a class="headerlink" href="#retrieving-the-current-workspace" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>The library contains extension methods for the <em>IWorkspaceManager</em> to retrieve a typed instance:</p>
<pre><code>var myWorkspace = workspaceManager.Workspace;
</code></pre>

<p>To customize the location where the workspaces are stored, use the <em>BaseDirectory</em> property.</p>
<h1 id="storing-information-in-a-workspace">Storing information in a workspace<a class="headerlink" href="#storing-information-in-a-workspace" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>Storing information in a workspace is the responsibility of every single component in the application. The <em>IWorkspaceManager</em> will raise the <em>WorkspaceInfoRequested</em> event so every component can put in the required information into the workspace.</p>
<p>To store information in a workspace, set the workspace to be updated as current workspace. Then let the user (or software) customize all components. Call the following method to raise the <em>WorkspaceInfoRequested</em> event to update the workspace:</p>
<pre><code>await workspaceManager.StoreWorkspaceAsync();
</code></pre>

<p><strong>Note that a workspace is only updated, not saved to disk by this method</strong>.</p>
<h2 id="providers">Providers<a class="headerlink" href="#providers" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Create a provider as shown in the example below:</p>
<pre><code>public class RibbonWorkspaceProvider : IWorkspaceProvider
{
    private readonly Ribbon _ribbon;

    public RibbonWorkspaceProvider(Ribbon ribbon)
    {
        Argument.IsNotNull(() =&gt; ribbon);

        _ribbon = ribbon;
    }

    public Task ProvideInformationAsync(IWorkspace workspace)
    {
        workspace.SetWorkspaceValue(&quot;Ribbon.IsMinimized&quot;, _ribbon.IsMinimized);
        return TaskHelper.Completed;
    }

    public Task ApplyWorkspaceAsync(IWorkspace workspace)
    {
        _ribbon.IsMinimized = workspace.GetWorkspaceValue(&quot;Ribbon.IsMinimized&quot;, false);
        return TaskHelper.Completed;
    }
}
</code></pre>

<p>Then add it to the provider where the ribbon is available:</p>
<pre><code>public RibbonView()
{
    InitializeComponent();

    var dependencyResolver = this.GetDependencyResolver();
    var workspaceManager = dependencyResolver.Resolve&lt;IWorkspaceManager&gt;();

    var ribbonWorkspaceProvider = new RibbonWorkspaceProvider(ribbon);
    workspaceManager.AddProvider(ribbonWorkspaceProvider, true);
}
</code></pre>

<h2 id="events">Events<a class="headerlink" href="#events" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Using events is a bit more work, but can accomplish the same:</p>
<pre><code>    public MyComponent(IWorkspaceManager workspaceManager)
    {
        workspaceManager.WorkspaceInfoRequested += OnWorkspaceInfoRequested;
    }

    private void OnWorkspaceInfoRequested(object sender, WorkspaceEventArgs e)
    {
        var workspace = e.Workspace;

        workspace.SetWorkspaceValue(&quot;somekey&quot;, &quot;somevalue&quot;);
    }
</code></pre>

<p><strong>Note that this will only be called when storing the workspace, restoring the workspace needs more events</strong>     </p>
<h1 id="saving-all-workspaces-to-disk">Saving all workspaces to disk<a class="headerlink" href="#saving-all-workspaces-to-disk" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>To save all workspaces to disk, use the code below:</p>
<pre><code>workspaceManager.Save();
</code></pre>

<hr />
<h1 id="using-the-xaml-behaviors">Using the XAML behaviors<a class="headerlink" href="#using-the-xaml-behaviors" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>For the developers using XAML (WPF), behaviors and extension methods are available in the <em>Orc.WorkspaceManagement.Xaml</em> library.</p>
<h2 id="using-the-extension-methods">Using the extension methods<a class="headerlink" href="#using-the-extension-methods" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Using the extension methods still requires manual work by subscribing to events of both the view and workspace manager, but allow more control.</p>
<h2 id="using-the-behaviors">Using the behaviors<a class="headerlink" href="#using-the-behaviors" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>The behavior is a wrapper around the extension methods and take away to need to manage anything. The behavior is aware of all the events and will handle everything accordingly. To use the behavior, use the code below:</p>
<pre><code>&lt;views:BView Grid.Row=&quot;2&quot; Grid.Column=&quot;4&quot;&gt;
    &lt;i:Interaction.Behaviors&gt;
        &lt;behaviors:AutoWorkspace /&gt;
    &lt;/i:Interaction.Behaviors&gt;
&lt;/views:BView&gt;
</code></pre>


                    </div>
                </div>
                <footer>
                    <hr />
                    <div role="contentinfo">

                      <p>
					    Is this section not up-to-date or found an issue? Please <a href="https://github.com/wildgums/wildgums.github.io/blob/master/src/src/orc.workspacemanagement/introduction.md" target="_blank">contribute</a>!
					  </p>
					  <p>
					    Have a question about WildGums projects? Use <a href="https://stackoverflow.com/questions/tagged/catel" target="_blank">StackOverflow</a> with the <i>Catel</i> tag!
					  </p>
					  <hr />
					  <p>
					    <h2>Discussion</h2>
					   <div id="disqus_thread"></div>
					   <script>
					   var disqus_config = function () {
					   this.page.url = 'http://opensource.wildgums.com/orc.workspacemanagement/introduction.htm';
					   this.page.identifier = 'src/orc.workspacemanagement/introduction.md';
					   };
					   (function() { // DON'T EDIT BELOW THIS LINE
					   var d = document, s = d.createElement('script');
					   s.src = 'https://wildgums-opensource.disqus.com/embed.js';
					   s.setAttribute('data-timestamp', +new Date());
					   (d.head || d.body).appendChild(s);
					   })();
					   </script>
					   <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
					  </p>
					</div>
                </footer>
            </div>
        </section>
    </div>
    <script src="../js/jquery-2.1.1.min.js"></script>
    <script src="../js/modernizr-2.8.3.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script src="../js/theme.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-54671533-18', 'auto');
      ga('send', 'pageview');
    
    </script>
</body>
</html>
